% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_preprocessing.R
\name{prune_distance_network_temporal}
\alias{prune_distance_network_temporal}
\title{Prune Distance Data for Network Quality with Temporal Coverage}
\usage{
prune_distance_network_temporal(
  data,
  virus_col,
  antibody_col,
  year_col,
  min_connections,
  min_per_year = 1,
  max_iterations = 100
)
}
\arguments{
\item{data}{Data frame in long format containing:
- Column for viruses/antigens
- Column for antibodies/antisera
- Distance measurements (can contain NAs)
- Column for years}

\item{virus_col}{Character name of virus/antigen column}

\item{antibody_col}{Character name of antibody/antiserum column}

\item{year_col}{Character name of year column}

\item{min_connections}{Target minimum connections (soft threshold)}

\item{min_per_year}{Integer minimum points to keep per year (default: 1)}

\item{max_iterations}{Integer maximum pruning iterations (default 100)}
}
\value{
List containing:
\item{pruned_data}{Data frame of pruned measurements}
\item{stats}{List of pruning statistics including:
\itemize{
\item original_points: Number of points before pruning
\item remaining_points: Number of points after pruning
\item min_connections: Target connection threshold used
\item years_coverage: Points per year in final set
}
}
}
\description{
Prunes network data while maintaining temporal coverage by keeping the most well-connected
points in each year. For each year, retains points with at least min_connections, but if
this leaves too few points, keeps the top min_per_year most-connected points regardless
of their connection count.
}
\examples{
\dontrun{
pruned <- prune_distance_network_temporal(
  data = hiv_results$long,
  virus_col = "Virus",
  antibody_col = "Antibody",
  year_col = "virusYear",
  min_connections = 10,
  min_per_year = 1
)
}
}
