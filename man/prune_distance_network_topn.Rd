% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_preprocessing.R
\name{prune_distance_network_topn}
\alias{prune_distance_network_topn}
\title{Prune Distance Network by Keeping Top N Points Per Year}
\usage{
prune_distance_network_topn(
  data,
  virus_col,
  antibody_col,
  year_col,
  top_n,
  min_per_year = 1
)
}
\arguments{
\item{data}{Data frame in long format containing:
- Column for viruses/antigens
- Column for antibodies/antisera
- Distance measurements (can contain NAs)
- Column for years}

\item{virus_col}{Character name of virus/antigen column}

\item{antibody_col}{Character name of antibody/antiserum column}

\item{year_col}{Character name of year column}

\item{top_n}{Integer number of top viruses and antibodies to keep per year}

\item{min_per_year}{Integer minimum total points to keep per year (default: 1)}
}
\value{
List containing:
\item{pruned_data}{Data frame of pruned measurements}
\item{stats}{List of pruning statistics including:
\itemize{
\item original_points: Number of points before pruning
\item remaining_points: Number of points after pruning
\item top_n: Number of top points requested per category
\item years_coverage: Points per year in final set
}
}
}
\description{
Prunes network data by keeping the top N most-connected viruses and antibodies
for each year. If a year has fewer than min_per_year points, keeps all points
for that year sorted by their connection counts.
}
\examples{
\dontrun{
pruned <- prune_distance_network_topn(
  data = hiv_results$long,
  virus_col = "Virus",
  antibody_col = "Antibody",
  year_col = "virusYear",
  top_n = 5,
  min_per_year = 1
)
}
}
