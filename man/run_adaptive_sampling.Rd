% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/adaptive_sampling.R
\name{run_adaptive_sampling}
\alias{run_adaptive_sampling}
\title{Submit Adaptive Monte Carlo Sampling Jobs}
\usage{
run_adaptive_sampling(
  initial_samples_file,
  distance_matrix,
  num_samples = 5,
  n_iter = 1,
  batch_size = 1,
  max_iter,
  relative_epsilon = 1e-04,
  folds = 20,
  num_cores = 1,
  scenario_name,
  output_dir = NULL,
  use_slurm = FALSE,
  cider = FALSE,
  verbose = FALSE
)
}
\arguments{
\item{initial_samples_file}{Character. Path to CSV file containing initial samples.
Must contain columns: log_N, log_k0, log_k_decay, log_cqq, NLL}

\item{distance_matrix}{Matrix. Distance matrix to optimize.}

\item{num_samples}{Integer. Total number of jobs to submit.}

\item{n_iter}{Integer. Number of sampling iterations per job.}

\item{batch_size}{Integer. Samples per iteration (default: 1).}

\item{max_iter}{Integer. Maximum iterations per sample evaluation.}

\item{relative_epsilon}{Numeric. Convergence threshold.}

\item{folds}{Integer. Number of CV folds (default: 10).}

\item{num_cores}{Integer. Cores per job (default: 1).}

\item{scenario_name}{Character. Name for output files.}

\item{use_slurm}{Logical. Whether to use SLURM (default: FALSE).}

\item{cider}{Logical. Whether to use cider queue (default: FALSE).}
}
\value{
Invisible NULL. Results are appended to:
"hyperparam_results/{scenario_name}_hyperparam_results.csv"
}
\description{
Performs adaptive Monte Carlo sampling to explore parameter space, either locally
or distributed via SLURM. Samples are drawn adaptively based on previous evaluations
to focus sampling in high-likelihood regions. Results from all jobs accumulate in
a single output file.
}
\details{
The function:
\enumerate{
\item Takes initial parameter samples as starting points
\item Creates n_iter batches of batch_size samples each
\item Updates sampling distribution based on likelihoods
\item Can distribute computation via SLURM for large-scale sampling
}

Both local and SLURM executions append results to the same output file:
"hyperparam_results/{scenario_name}_hyperparam_results.csv"
}
\examples{
\dontrun{
# Read initial samples
init_file <- "initial_samples.csv"

# Create distance matrix
dist_mat <- matrix(runif(100), 10, 10)
dist_mat[lower.tri(dist_mat)] <- t(dist_mat)[lower.tri(dist_mat)]
diag(dist_mat) <- 0

# Run local sampling
run_adaptive_sampling(
  initial_samples_file = init_file,
  distance_matrix = dist_mat,
  max_iter = 1000,
  scenario_name = "test_sampling",
  num_samples = 10,
  n_iter = 5
)

# Run with SLURM
run_adaptive_sampling(
  initial_samples_file = init_file, 
  distance_matrix = dist_mat,
  scenario_name = "slurm_sampling",
  num_samples = 50,
  use_slurm = TRUE
)
}

}
\seealso{
\code{\link{adaptive_MC_sampling}} for the core sampling algorithm
}
